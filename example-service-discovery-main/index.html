<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const table = document.createElement("table");
        const api = async () => {
            const req = await fetch('http://localhost:8761/eureka/apps/',{
                method: 'GET',
                headers:{
                    Accept:'application/json',
                    "Content-Type":'application/json',
                }
            })
            table.innerHTML = ""
            const res = await req.json()
            
            for(let i = 0;i<res.applications.application.length;i++){
                let text = document.createTextNode(res.applications.application[i].name)
                let tr = document.createElement("tr");
                let td = document.createElement("td");
                td.appendChild(text)
                tr.appendChild(td)
                table.appendChild(tr)
            }
            document.body.appendChild(table)
            //console.log(table.childNodes)
        }

        const offlineCheck = () =>{
            api()
        };

        //setInterval(offlineCheck, 1000);
        api()
    </script>
</body>
</html>